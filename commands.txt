//create database:

CREATE DATABASE jobdb;

//create tables

CREATE TABLE users (
    id serial NOT NULL UNIQUE PRIMARY KEY,
    name varchar(100),
    email varchar(100) UNIQUE NOT NULL,
    joined timestamp UNIQUE NOT NULL
);

CREATE TABLE auth (
  auth_id serial NOT NULL UNIQUE PRIMARY KEY,
  email varchar(100) UNIQUE NOT NULL,
  hash varchar(100) NOT NULL,
  id serial NOT NULL REFERENCES users(id)
);


CREATE TABLE list (
    list_id serial NOT NULL UNIQUE PRIMARY KEY,
    name varchar(100) NOT NULL UNIQUE,
    date_created timestamp NOT NULL,
	  id serial NOT NULL REFERENCES users(id)
);

CREATE TABLE application (
  app_id serial NOT NULL UNIQUE PRIMARY KEY,
  company_name varchar NOT NULL,
	date_applied timestamp NOT NULL,
	location varchar,
	job_description text,
	job_url text,
	specific_requirements text,
	comments text,
	accepted boolean NOT NULL,
	pending boolean NOT NULL,
	rejected boolean NOT NULL,
	list_id serial NOT NULL REFERENCES list(list_id)
);


//insert to table
INSERT into users(name, email, joined) 
VALUES ('Anish', 'anish@gmail.com', current_timestamp);

INSERT into auth(email, hash, id) 
VALUES ('anish@gmail.com', 'saddddasdkjasdkja', 1);

INSERT into list(name, date_created, id) 
VALUES ('List1', current_timestamp, 1);

INSERT into application(company_name, date_applied, location, job_description, job_url, specific_requirements, comments, accepted, pending, rejected, list_id) 
VALUES ('Google', current_timestamp, 'Texas', 'SWE', 'https://google.com', 'Undergrad', 'start-date after 2months', true, false, false, 1);


select * from users,auth, list, application where (users.id = auth.id AND auth.id = list.id); 


//delete from table
DELETE FROM users;

//drop all tables
drop table application;
drop table list;
drop table auth;
drop table users;
